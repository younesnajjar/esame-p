<form [formGroup]="form" class="space-y-4 p-2">

  <div formGroupName="student">
    <div>
      <span class="block text-sm font-medium text-[#374151] mb-1">{{ 'add.firstname' | translate }}</span>
      <input pInputText formControlName="first_name" class="w-full" placeholder="First Name" />
      @if (this.form.controls['student'].touched && this.form.controls['student'].invalid) {
        <ng-container [ngTemplateOutlet]="required"></ng-container>
      }
    </div>
    <div>
      <span class="block text-sm font-medium text-[#374151] mb-1">{{ 'add.firstname' | translate }}</span>
      <input pInputText formControlName="last_name" class="w-full" placeholder="Last Name" />
      @if (this.form.controls['student'].touched && this.form.controls['student'].invalid) {
        <ng-container [ngTemplateOutlet]="required"></ng-container>
      }
    </div>
  </div>


  <div>
    <span class="block text-sm font-medium  mb-1">{{ 'add.location' | translate }}</span>
    <input pInputText formControlName="meeting_point" class="w-full" placeholder="Casablanca" />
  </div>

  <div>
    <span class="block text-sm font-medium  mb-1">{{ 'add.date' | translate }}</span>
    <p-date-picker [showTime]="true" appendTo="body" formControlName="date" class="w-full" dateFormat="dd/mm/yy"></p-date-picker>
    @if (this.form.controls['date'].touched && this.form.controls['date'].invalid) {
      <ng-container [ngTemplateOutlet]="required"></ng-container>
    }  </div>



  <div>
    <span class="block text-sm font-medium mb-1">Statut</span>
    <p-select
      [options]="statusOptions"
      optionLabel="label"
      optionValue="value"
      formControlName="status"
      appendTo="body"
      class="w-full">
    </p-select>
  </div>

  <div class="flex justify-end pt-4 gap-2">
    <p-button
      label="Annuler"
      class="p-button-rounded p-button-raised"
      styleClass="border-none text-white hover:opacity-90 px-5 py-2 font-semibold text-sm"
      severity="secondary"
      (click)="ref.destroy()"
      (onClick)="submit()">
    </p-button>
    <p-button
      label="CrÃ©er"
      class="p-button-rounded p-button-raised"
      styleClass="border-none text-white hover:opacity-90 px-5 py-2 font-semibold text-sm"
      (onClick)="submit()">
    </p-button>
  </div>

</form>


<ng-template #required>
  <small class="text-red-500">{{'validation.required' | translate}}</small>
</ng-template>
